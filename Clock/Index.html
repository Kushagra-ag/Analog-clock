<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="css.css">
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Handlee">


	<title>
		Clock
	</title>

</head>

<body>
	<center>
<canvas id="myCanvas" height="640" width="640" >
	Canvas not supportred.
</canvas>
<canvas id="myCanvas_2" height="640" width="640" >
	Canvas not supportred.
</canvas>
<canvas id="myCanvas_3" height="640" width="640" >
	Canvas not supportred.
</canvas>
</center>
<script>
		var canvas = document.getElementById("myCanvas");
		var canvas3 = document.getElementById("myCanvas_3");
		var ctx = canvas.getContext("2d");
		var ctx3 = canvas3.getContext("2d");
		var radius = canvas.width/3;
		var num=1, temp = 50;

		ctx.translate(canvas.width/2, canvas.height/2);
		ctx3.translate(canvas.width/2, canvas.height/2); 
		
		setInterval(time,1000,ctx3,radius);
		drawclock(ctx, radius);
		numbers(ctx, radius);
		//time(ctx, radius);

		function drawclock(ctx, radius)
		{
			ctx.lineWidth = 2;

			ctx.beginPath();
			ctx.arc(0,0,radius,15*Math.PI/180,75*Math.PI/180);
			ctx.strokeStyle = "#000";
			ctx.stroke();
			ctx.closePath();

			ctx.beginPath();
			ctx.arc(0,0,radius,105*Math.PI/180,165*Math.PI/180);
			ctx.strokeStyle = "#000";
			ctx.stroke();
			ctx.closePath();

			ctx.beginPath();
			ctx.arc(0,0,radius,195*Math.PI/180,255*Math.PI/180);
			ctx.strokeStyle = "#000";
			ctx.stroke();
			ctx.closePath();

			ctx.beginPath();
			ctx.arc(0,0,radius,285*Math.PI/180,345*Math.PI/180);
			ctx.strokeStyle = "#000";
			ctx.stroke();
			ctx.closePath();

			ctx.beginPath();
			ctx.arc(0,0,radius*0.1,0,2*Math.PI);
			ctx.strokeStyle = "#000";
			ctx.lineWidth = 1;
			ctx.stroke();

			ctx.rotate(5*Math.PI/6);
			ctx.translate(0,-radius*0.735);
			ctx.strokeStyle = "#000";
			ctx.rotate(-5*Math.PI/6);
			ctx.fillStyle = "#fff";
			ctx.fillRect(0,0,44,22);
			ctx.strokeRect(0,0,44,22);
			ctx.rotate(5*Math.PI/6);
			ctx.translate(0,radius*0.735);
			ctx.rotate(-5*Math.PI/6);

			
		}

		function numbers(ctx, radius)
		{
			ctx.textAlign = "center";
			ctx.textBaseline = "middle";
			ctx.font = radius*0.40 + "px handlee";
			ctx.fillStyle = "#000";

			for(num=3; num<13; num+=3)
			{
				var deg = num*Math.PI/6;

				ctx.rotate(deg);
				ctx.translate(0, -radius);
				ctx.rotate(-deg);
				ctx.fillText(num,0,0);
				ctx.rotate(deg);
				ctx.translate(0, radius);
				ctx.rotate(-deg);
			}
		}

		function time(ctx3, radius)
		{	

			var time = new Date();
			var hours = time.getHours();
			var min = time.getMinutes();
			var sec = time.getSeconds();
			var d = time.getDate(),supscript = 'th';

			if(d==1)
				supscript = 'st';
			else if(d==2)
				supscript = 'nd';
			else if(d==3)
				supscript = 'rd';

			if(temp!=d)
			{
				ctx.textAlign = "start";
				ctx.rotate(5*Math.PI/6);
				ctx.translate(0, -radius*0.8);
				ctx.rotate(-5*Math.PI/6);
				ctx.font = radius*0.08 + "px handlee";
				ctx.fillStyle = "#000";
				ctx.fillText(d+supscript,0,0);
				ctx.rotate(5*Math.PI/6);
				ctx.translate(0, radius*0.8);
				ctx.rotate(-5*Math.PI/6);
				temp = d;
			}


			ctx3.fillStyle = "#fff"
			ctx3.fillRect(-canvas.width/2,-canvas.width/2,canvas.width,canvas.width);
			//document.getElementById('myCanvas_3').style.backgroundImage = "url('background.png')";
			//document.getElementById('myCanvas_3').style.opacity = 0.5;

			hours = hours % 12;
			hours = (hours*Math.PI/6) + (min*Math.PI/360) + (sec*Math.PI/21600);
			hands(ctx3, hours, radius*0.4, radius*0.06);

			min = (min*Math.PI/30) + (sec*Math.PI/1800);
			hands(ctx3, min, radius*0.7, radius*0.04);

			sec = (sec*Math.PI/30);
			hands_sec(ctx3, sec, radius*0.8, radius*0.02);

		}

		function hands(ctx3, pos, len, width)
		{
			
			ctx3.beginPath();
			ctx3.lineWidth = width;
			ctx3.strokeStyle = "#000";
			ctx3.moveTo(0,0);
			ctx3.rotate(pos);
			ctx3.lineTo(0, -len);
			ctx3.stroke();
			ctx3.rotate(-pos);

		}

		function hands_sec(ctx3, pos, len, width)
		{
			ctx3.beginPath();
			ctx3.lineWidth = width;
			ctx3.strokeStyle = "#d00";
			ctx3.moveTo(0,0);
			ctx3.rotate(pos);
			ctx3.lineTo(0, -len);
			ctx3.stroke();
			ctx3.rotate(-pos);

		}
	</script>
</body>
</html>
